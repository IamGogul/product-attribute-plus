"use strict";var $=jQuery.noConflict();(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(e){var o=function(e,o){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(o)?o:o+""}var r=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.extend(!0,{productAttrTypeSelector:"#attribute_type",productAttrTypeAddFormFields:".js-woo-pap-add-field",productAttrTypeEditFormFields:".js-woo-pap-edit-field"},e),this._init()},(o=[{key:"_init",value:function(){var t=this.options,e=t.jQBodyEle,o=t.productAttrTypeSelector,r=t.productAttrTypeAddFormFields,n=t.productAttrTypeEditFormFields,i=$(o,e),a=$(r,e),u=$(n,e);i.length>0&&i.on("change",(function(){switch($(this).val()){case"woo-pa-plus-color-sw":case"woo-pa-plus-image-sw":case"woo-pa-plus-label-sw":a.show(),u.show();break;default:a.hide(),u.hide()}})).trigger("change")}}])&&e(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}var u=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.extend(!0,{},e)},(e=[{key:"_handler",value:function(t,e){t.on("change",(function(){var t=$(this),o=t.closest("tbody").find(e).closest("tr");t.is(":checked")?o.show():o.hide()})).trigger("change")}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var p=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.extend(!0,{vProductSettingsHandler:"#woo_pap_manage_swatch_vproduct",vProductSettingsSelector:".woo-pap-manage-swatch-vproduct-field"},e),this._init()},(e=[{key:"_init",value:function(){this._swatchHandler()}},{key:"_swatchHandler",value:function(){var t=this.options,e=t.jQBodyEle,o=t.vProductSettingsHandler,r=t.vProductSettingsSelector,n=$(o,e);n.length>0&&(new u)._handler(n,r)}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}var v=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this;o.options=$.extend(!0,{colorSwatch:".woo-pa-plus-color-picker"},e),$(document).ready((function(){o._swatch()})),$(document).ajaxComplete(o._ajaxComplete)},(e=[{key:"_swatch",value:function(){var t=this.options.colorSwatch,e=$(t);e.length>0&&e.wpColorPicker()}},{key:"_ajaxComplete",value:function(t,e,o){if(o.hasOwnProperty("data")&&0<=o.data.indexOf("woo-pa-plus-color-sw")){if(e&&4===e.readyState&&200===e.status&&o.data&&0<=o.data.indexOf("action=add-tag")){var r=wpAjax.parseAjaxResponse(e.responseXML,"ajax-response");if(!r||r.errors)return}$(".wp-color-result").removeAttr("style"),$(".wp-picker-clear").trigger("click")}}}])&&y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function b(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}var g=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this;o.options=$.extend(!0,{imgSwatchBtn:".attribute-screen.woo-pa-plus-sw-image-button",imgSwatchRemoveBtn:".attribute-screen.woo-pa-plus-sw-image-img-remove"},e),$(document).ready((function(){o.options.jQBodyEle=$("body"),o._init()})),$(document).ajaxComplete(o._ajaxComplete)},(e=[{key:"_init",value:function(){var t=this,e=t.options,o=e.imgSwatchBtn,r=e.imgSwatchRemoveBtn;t._imgSwatchBtnHandler(o),t._imgSwatchRemoveHandler(r)}},{key:"_imgSwatchBtnHandler",value:function(t){var e;$("body").on("click",t,(function(t){t.preventDefault();var o=$(this);e||(e=wp.media({title:o.data("title"),multiple:!1,library:{type:"image"},button:{text:o.data("button")}})).on("select",(function(){var t=e.state().get("selection").first().toJSON(),r=t.sizes.thumbnail?t.sizes.thumbnail.url:t.url,n=t.id,i='<div class="woo-pa-plus-sw-image-img-holder"><div class="woo-pa-plus-sw-image-img"><img src="'+r+'"/><a href="javascript:void(0);" class="attribute-screen woo-pa-plus-sw-image-img-remove" title="'+o.data("remove")+'"></a></div>';o.siblings("input.woo-pa-plus-sw-image-id").val(n),$(i).insertBefore(o.parent()),setTimeout((function(){o.addClass("hidden")}),10)})),e.open()}))}},{key:"_imgSwatchRemoveHandler",value:function(t){$("body").on("click",t,(function(t){t.preventDefault();var e=$(this),o=e.parents(".woo-pa-plus-sw-image-img-holder").next(".woo-pa-plus-sw-image-img-picker");o.find(".woo-pa-plus-sw-image-id").val(""),o.find(".woo-pa-plus-sw-image-button").removeClass("hidden"),e.parents(".woo-pa-plus-sw-image-img-holder").remove()}))}},{key:"_ajaxComplete",value:function(t,e,o){if(o.hasOwnProperty("data")&&(console.log(o.data),0<=o.data.indexOf("woo-pa-plus-image-sw")&&e&&4===e.readyState&&200===e.status&&o.data&&0<=o.data.indexOf("action=add-tag"))){var r=wpAjax.parseAjaxResponse(e.responseXML,"ajax-response");if(!r||r.errors)return;$("input.woo-pa-plus-sw-image-id").val(""),$(".woo-pa-plus-sw-image-img-holder").remove(),$(".woo-pa-plus-sw-image-button").removeClass("hidden")}}}])&&b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function S(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function j(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}new(function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=$.extend(!0,{pluginName:woo_pa_plus_plugin_L10n.pluginName,pluginVersion:woo_pa_plus_plugin_L10n.pluginVersion},e),this._init()},(e=[{key:"_init",value:function(){var t=this;t.options.jQBodyEle=$("body"),t.options.bodyEle=document.querySelector("body"),new r(t.options),new v(t.options),new g(t.options),new p(t.options)}}])&&S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())})();